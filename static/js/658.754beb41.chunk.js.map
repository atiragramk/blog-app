{"version":3,"file":"static/js/658.754beb41.chunk.js","mappings":"iNAGaA,EAAb,gMACEC,MAAQ,CACNC,OAAO,GAFX,kDAKE,SAAkBA,GAChBC,KAAKC,SAAS,CACZF,OAAO,MAPb,oBAWE,WACE,OAAIC,KAAKF,MAAMC,OACN,SAACG,EAAA,EAAD,IAEFF,KAAKG,MAAMC,aAftB,GAAmCC,EAAAA,Y,0FCAtBC,EAAcC,EAAAA,GAAAA,IAAH,8DAKXC,GAAaD,EAAAA,EAAAA,IAAOE,EAAAA,GAAPF,CAAH,8S,6DCJVL,EAAe,WAC1B,OACE,4BACE,SAACI,EAAD,CAAaI,IAAKX,EAAOY,IAAI,WAC7B,SAACH,EAAD,CAAYI,GAAG,IAAf,+B,2JCHOC,GAAkBN,EAAAA,EAAAA,IAAOO,EAAAA,GAAPP,CAAH,sEAKfQ,GAAgBR,EAAAA,EAAAA,IAAOS,EAAAA,EAAPT,CAAH,oLAWbC,GAAaD,EAAAA,EAAAA,IAAOE,EAAAA,GAAPF,CAAH,mD,oBCnBjBU,EAA6B,SAACnB,GAAD,OAAWA,EAAMoB,mBAEvCC,GAA+BC,EAAAA,EAAAA,IACxCH,GACA,SAACC,GAAD,OAAuBA,EAAkBG,WAG9BC,GAA4BF,EAAAA,EAAAA,IACvCH,GACA,SAACC,GAAD,OAAuBA,EAAkBK,QAG9BC,GAA6BJ,EAAAA,EAAAA,IACxCH,GACA,SAACC,GAAD,OAAuBA,EAAkBnB,S,mECL9B,SAAS0B,IACtB,IAAMJ,GAAUK,EAAAA,EAAAA,IAAYC,GACtB5B,GAAQ2B,EAAAA,EAAAA,IAAYC,GACpBC,GAAWF,EAAAA,EAAAA,IAAYC,GACrBE,EAAUC,EAAAA,EAAAA,MAEZC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WAER,OADAF,GAASG,EAAAA,EAAAA,MACF,kBAAMH,GAASI,EAAAA,EAAAA,UACrB,CAACJ,IAEJ,IAAMK,EAAU,CACd,CACEC,MAAO,KACPC,UAAW,MACXC,IAAK,MACLC,OAAQ,SAACC,GAAD,OACN,SAACjC,EAAD,CAAYI,GAAE,iBAAY6B,GAA1B,SAAoCA,MAGxC,CACEJ,MAAO,aACPC,UAAW,QACXC,IAAK,SAEP,CACEF,MAAO,cACPC,UAAW,cACXC,IAAK,cACLC,OAAQ,SAACC,GAAD,OACNA,EAAMC,OAAS,IAAf,UAAwBD,EAAME,MAAM,EAAG,KAAvC,OAAmDF,IAEvD,CACEJ,MAAO,QACPC,UAAW,YACXC,IAAK,YACLK,iBAAkB,UAClBC,OAAQ,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,UAAYD,EAAEC,YAEpC,CACEX,MAAO,cACPC,UAAW,cACXC,IAAK,cACLC,OAAQ,SAACC,GAAD,OAAWQ,IAAOR,GAAOS,OAAO,iBAI5C,OACE,SAACrD,EAAA,EAAD,WACE,UAACgB,EAAD,WACGQ,IAAYtB,IAAS,SAACgB,EAAD,KACpBM,IAAYtB,IACZ,SAAC,IAAD,CACEoD,UAAQ,EACRf,QAASA,EACTgB,WAAYxB,EACZP,QAASA,EACTgC,OAAQ,SAACC,GAAD,OAAYA,EAAOC,KAC3BlB,MAAO,kBACL,SAACR,EAAD,CACE2B,MAAO,CAAEC,QAAS,OAAQC,eAAgB,UAC1CC,MAAO,EAFT,6BAOFC,WAAY,CACVC,SAAU,GACVC,SAAU,CAAC,mBAKhB/D,IAAUsB,IAAW,SAACnB,EAAA,EAAD","sources":["components/ErrorBoundary/ErrorBoundary.js","components/ErrorMessage/styled.js","components/ErrorMessage/ErrorMessage.js","pages/Statistics/styled.js","pages/Statistics/selectors/bookItem.js","pages/Statistics/Statistic.js"],"sourcesContent":["import { Component } from \"react\";\nimport { ErrorMessage } from \"../ErrorMessage\";\n\nexport class ErrorBoundary extends Component {\n  state = {\n    error: false,\n  };\n\n  componentDidCatch(error) {\n    this.setState({\n      error: true,\n    });\n  }\n\n  render() {\n    if (this.state.error) {\n      return <ErrorMessage />;\n    }\n    return this.props.children;\n  }\n}\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const StyledImage = styled.img`\n  margin: 0 auto;\n  display: block;\n`;\n\nexport const StyledLink = styled(Link)`\n  max-width: fit-content;\n  display: block;\n  margin: 10px auto;\n  border: 1px solid rgb(255 186 89);\n  color: rgb(69 79 99);\n  text-decoration: none;\n  padding: 5px 10px;\n  border-radius: 3px;\n  &:hover {\n    color: #fff;\n    background-color: rgb(255 186 89);\n  }\n`;\n","import { StyledImage, StyledLink } from \"./styled\";\n\nimport error from \"../../assets/img/error.gif\";\n\nexport const ErrorMessage = () => {\n  return (\n    <div>\n      <StyledImage src={error} alt=\"error\" />\n      <StyledLink to=\"/\">Back to Main</StyledLink>\n    </div>\n  );\n};\n","import { Container } from \"reactstrap\";\nimport styled from \"styled-components\";\nimport Spin from \"antd/lib/spin\";\nimport { Link } from \"react-router-dom\";\n\nexport const StyledContainer = styled(Container)`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const StyledSpinner = styled(Spin)`\n  display: block;\n  .ant-spin-dot {\n    display: flex;\n    margin: 10px auto;\n  }\n  .ant-spin-dot-item {\n    background-color: rgb(255 186 89);\n  }\n`;\n\nexport const StyledLink = styled(Link)`\n  color: rgb(255 186 89);\n`;\n","import { createSelector } from \"reselect\";\n\nconst bookStatisticStateSelector = (state) => state.bookListStatistic;\n\nexport const bookStatisticLoadingSelector = createSelector(\n    bookStatisticStateSelector,\n    (bookListStatistic) => bookListStatistic.loading\n  );\n  \n  export const bookStatisticDataSelector = createSelector(\n    bookStatisticStateSelector,\n    (bookListStatistic) => bookListStatistic.data\n  );\n  \n  export const bookStatisticErrorSelector = createSelector(\n    bookStatisticStateSelector,\n    (bookListStatistic) => bookListStatistic.error\n  );","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ErrorMessage } from \"../../components/ErrorMessage\";\nimport { StyledContainer, StyledSpinner, StyledLink } from \"./styled\";\nimport { ErrorBoundary } from \"../../components/ErrorBoundary\";\nimport * as selectors from \"./selectors/bookItem\";\nimport { bookListStatisticFetch } from \"./thunk/statistic\";\nimport moment from \"moment\";\nimport { Table, Typography } from \"antd\";\nimport { bookListStatisticsResetAction } from \"./reducer/statistic\";\n\nexport default function Statistics() {\n  const loading = useSelector(selectors.bookStatisticLoadingSelector);\n  const error = useSelector(selectors.bookStatisticErrorSelector);\n  const bookData = useSelector(selectors.bookStatisticDataSelector);\n  const { Title } = Typography;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(bookListStatisticFetch());\n    return () => dispatch(bookListStatisticsResetAction());\n  }, [dispatch]);\n\n  const columns = [\n    {\n      title: \"ID\",\n      dataIndex: \"_id\",\n      key: \"_id\",\n      render: (value) => (\n        <StyledLink to={`/books/${value}`}>{value}</StyledLink>\n      ),\n    },\n    {\n      title: \"BOOK TITLE\",\n      dataIndex: \"title\",\n      key: \"title\",\n    },\n    {\n      title: \"DESCRIPTION\",\n      dataIndex: \"description\",\n      key: \"description\",\n      render: (value) =>\n        value.length > 130 ? `${value.slice(0, 130)}...` : value,\n    },\n    {\n      title: \"PAGES\",\n      dataIndex: \"pageCount\",\n      key: \"pageCount\",\n      defaultSortOrder: \"descend\",\n      sorter: (a, b) => a.pageCount - b.pageCount,\n    },\n    {\n      title: \"CREATE DATE\",\n      dataIndex: \"publishDate\",\n      key: \"publishDate\",\n      render: (value) => moment(value).format(\"DD/MM/YYYY\"),\n    },\n  ];\n\n  return (\n    <ErrorBoundary>\n      <StyledContainer>\n        {loading && !error && <StyledSpinner />}\n        {!loading && !error && (\n          <Table\n            bordered\n            columns={columns}\n            dataSource={bookData}\n            loading={loading}\n            rowKey={(record) => record._id}\n            title={() => (\n              <Title\n                style={{ display: \"flex\", justifyContent: \"center\" }}\n                level={4}\n              >\n                BOOK STATISTIC\n              </Title>\n            )}\n            pagination={{\n              pageSize: 50,\n              position: [\"bottomCenter\"],\n            }}\n          />\n        )}\n\n        {error && !loading && <ErrorMessage />}\n      </StyledContainer>\n    </ErrorBoundary>\n  );\n}\n"],"names":["ErrorBoundary","state","error","this","setState","ErrorMessage","props","children","Component","StyledImage","styled","StyledLink","Link","src","alt","to","StyledContainer","Container","StyledSpinner","Spin","bookStatisticStateSelector","bookListStatistic","bookStatisticLoadingSelector","createSelector","loading","bookStatisticDataSelector","data","bookStatisticErrorSelector","Statistics","useSelector","selectors","bookData","Title","Typography","dispatch","useDispatch","useEffect","bookListStatisticFetch","bookListStatisticsResetAction","columns","title","dataIndex","key","render","value","length","slice","defaultSortOrder","sorter","a","b","pageCount","moment","format","bordered","dataSource","rowKey","record","_id","style","display","justifyContent","level","pagination","pageSize","position"],"sourceRoot":""}