"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[519],{5762:function(n,e,r){r.d(e,{S:function(){return s}});var o=r(5671),t=r(3144),i=r(136),a=r(7277),c=r(2791),l=r(1125),d=r(184),s=function(n){(0,i.Z)(r,n);var e=(0,a.Z)(r);function r(){var n;(0,o.Z)(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).state={error:!1},n}return(0,t.Z)(r,[{key:"componentDidCatch",value:function(n){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,d.jsx)(l.B,{}):this.props.children}}]),r}(c.Component)},1125:function(n,e,r){r.d(e,{B:function(){return g}});var o,t,i=r(168),a=r(6031),c=r(3504),l=a.ZP.img(o||(o=(0,i.Z)(["\n  margin: 0 auto;\n  display: block;\n"]))),d=(0,a.ZP)(c.rU)(t||(t=(0,i.Z)(["\n  max-width: fit-content;\n  display: block;\n  margin: 10px auto;\n  border: 1px solid rgb(255 186 89);\n  color: rgb(69 79 99);\n  text-decoration: none;\n  padding: 5px 10px;\n  border-radius: 3px;\n  &:hover {\n    color: #fff;\n    background-color: rgb(255 186 89);\n  }\n"]))),s=r.p+"static/media/error.d9aa7b1a785ebcbec41f.gif",u=r(184),g=function(){return(0,u.jsxs)("div",{children:[(0,u.jsx)(l,{src:s,alt:"error"}),(0,u.jsx)(d,{to:"/",children:"Back to Main"})]})}},6283:function(n,e,r){r.r(e),r.d(e,{default:function(){return Mn}});var o,t,i,a,c,l,d,s,u,g,f,b,x,p,h=r(3433),m=r(2791),v=r(9434),j=r(7121),Z=r(2426),k=r.n(Z),y=r(1752),C=r(2622),P=r(168),w=r(6031),S=r(3504),T=r(9235),D=(0,w.ZP)(j.Zb)(o||(o=(0,P.Z)(["\n  position: relative;\n  margin: 10px;\n  width: 400px;\n  height: 260px;\n  text-align: center;\n  border-radius: 2px;\n  box-shadow: 0px 1px 5px rgb(244 233 235);\n"]))),_=(0,w.ZP)(T.Z)(t||(t=(0,P.Z)(["\n  position: absolute;\n  right: ",";\n  color: rgb(69 79 99);\n  padding: 6px 7px;\n  background-color: transparent;\n  border-color: rgb(255 186 89);\n  span {\n    display: inline-flex;\n    align-items: center;\n  }\n  &:hover {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89 / 50%);\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n"])),(function(n){return n.edit?"50px":"10px"})),A=(0,w.ZP)(j.ll)(i||(i=(0,P.Z)(["\n  font-weight: bold;\n  margin-top: 40px;\n  min-height: 50px;\n  color: rgb(69 79 99);\n"]))),E=(0,w.ZP)(j.SK)(a||(a=(0,P.Z)(["\n  min-height: 80px;\n  margin-bottom: 15px;\n  font-size: 16px;\n  color: rgb(69 79 99);\n"]))),I=(0,w.ZP)(j._R)(c||(c=(0,P.Z)(["\n  font-style: italic;\n  color: rgb(69 79 99);\n"]))),M=(0,w.ZP)(S.rU)(l||(l=(0,P.Z)(["\n  border: 1px solid rgb(255 186 89);\n  color: rgb(69 79 99);\n  text-decoration: none;\n  position: absolute;\n  right: 10px;\n  padding: 3px 5px;\n  min-width: 65px;\n  border-radius: 3px;\n  &:hover {\n    color: #fff;\n    background-color: rgb(255 186 89);\n  }\n"]))),B=w.ZP.div(d||(d=(0,P.Z)(["\n  display: flex;\n  align-items: center;\n"]))),z=r(184),F=function(n){var e=n.data,r=n.onEdit,o=n.onDelete,t=e._id,i=e.title,a=e.description,c=e.publishDate,l=a.length>130?"".concat(a.slice(0,130),"..."):a,d=k()(c).format("DD/MM/YYYY");return(0,z.jsx)(D,{size:"small",children:(0,z.jsxs)(j.eW,{children:[(0,z.jsx)(_,{onClick:function(){return r(t)},type:"default",edit:"edit",children:(0,z.jsx)(y.Z,{})}),(0,z.jsx)(_,{onClick:function(){return o(e)},type:"default",children:(0,z.jsx)(C.Z,{})}),(0,z.jsx)(A,{tag:"h5",children:i}),(0,z.jsx)(E,{tag:"p",children:l}),(0,z.jsxs)(B,{children:[(0,z.jsx)(I,{children:d}),(0,z.jsx)(M,{to:"/books/".concat(t),children:"More"})]})]})})},L=r(1125),N=r(5762),q=r(6048),V=r.n(q),Y=(0,w.ZP)(T.Z)(s||(s=(0,P.Z)(["\n  display: block;\n  margin: 20px auto;\n  background-color: rgb(255 186 89);\n  color: rgb(63 65 69);\n  border-color: rgb(255 186 89);\n  &:hover {\n    background-color: transparent;\n    border-color: rgb(255 186 89);\n    color: rgb(255 186 89);\n  }\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: rgb(63 65 69);\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89 / 50%);\n    color: rgb(63 65 69);\n  }\n"]))),O=((0,w.ZP)(j.$j)(u||(u=(0,P.Z)(["\n  display: flex;\n  margin: 0 auto;\n  color: rgb(110 45 53);\n"]))),(0,w.ZP)(j.W2)(g||(g=(0,P.Z)(["\n  display: flex;\n  padding: 0;\n  flex-direction: row;\n  flex-wrap: wrap;\n"])))),Q=((0,w.ZP)(V())(f||(f=(0,P.Z)(["\n  display: flex;\n  list-style: none;\n  margin: 30px auto;\n  padding-left: 0px;\n  width: fit-content;\n  border: 1px solid rgb(186 182 182);\n  border-radius: 5px;\n\n  li {\n    padding: 7px 15px;\n    color: rgb(110 45 53);\n    border-left: 1px solid #dee2e6;\n    &.active {\n      background-color: rgb(110 45 53);\n      color: white;\n    }\n  }\n  a {\n    color: rgb(110 45 53);\n    text-decoration: none;\n    &.disabled {\n      pointer-events: none;\n      color: gray;\n    }\n  }\n"]))),r(6916)),U=function(n){return n.bookList},R=(0,Q.P1)(U,(function(n){return n.loading})),W=(0,Q.P1)(U,(function(n){return n.data})),H=(0,Q.P1)(U,(function(n){return n.error})),K=(0,Q.P1)(U,(function(n){return n.updateState})),X=(0,Q.P1)(U,(function(n){return n.createState})),$=(0,Q.P1)(U,(function(n){return n.deleteState})),G=(0,w.ZP)(j.tl)(b||(b=(0,P.Z)(["\n  ul {\n    justify-content: center;\n    margin: 20px 0;\n    text-align: center;\n    padding-bottom: 20px;\n  }\n"]))),J=(0,w.ZP)(j.kN)(x||(x=(0,P.Z)(["\n  min-width: 42px;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: rgb(69 79 89 / 20%);\n    color: rgb(255 186 89);\n  }\n  &:focus {\n    color: rgb(69 79 89);\n    background-color: rgb(255 186 89);\n    box-shadow: none;\n  }\n"])),(function(n){n.active;return"rgb(69 79 99)"}),(function(n){return n.active?"rgb(255 186 89)":"rgb(255 255 255)"})),nn=function(n){var e=n.currentPage,r=n.pageCount,o=n.onPagination;return(0,z.jsxs)(G,{children:[(0,z.jsx)(j.nt,{disabled:e<=0,children:(0,z.jsx)(J,{onClick:function(){return o(e-1)},previous:!0,tag:"button"})}),(0,h.Z)(Array(r).keys()).map((function(n,r){return(0,z.jsx)(j.nt,{children:(0,z.jsx)(J,{tag:"button",active:r===e?"active":null,onClick:function(){return o(r)},children:r+1})},n)})),(0,z.jsx)(j.nt,{disabled:e>=r-1,children:(0,z.jsx)(J,{tag:"button",onClick:function(){return o(e+1)},next:!0})})]})},en=r(5303),rn=r(8361),on=function(){return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(en.Z,{direction:"vertical",size:"large",style:{alignItems:"flex-end",width:"400px",height:"250px",margin:"20px 10px"},children:[(0,z.jsxs)(en.Z,{children:[(0,z.jsx)(rn.Z.Button,{shape:"round",size:"small",active:!0}),(0,z.jsx)(rn.Z.Button,{shape:"round",size:"small",active:!0})]}),(0,z.jsx)(rn.Z.Input,{size:"large",active:!0,style:{width:"380px"}}),(0,z.jsx)(rn.Z.Input,{size:"large",active:!0,style:{width:"380px"}}),(0,z.jsx)(rn.Z.Input,{size:"default",active:!0,style:{width:"380px"}})]})})},tn=r(9302),an=(0,Q.P1)((function(n){return n.bookList}),(function(n){return n.pagination}),(function(n,e){return{page:e.page,offset:e.offset,itemsPerPage:e.itemsPerPage,endOffset:e.offset+e.itemsPerPage}})),cn=function(n){return n.modal},ln=r(9922),dn=r(8493),sn=r(7309),un=(0,w.ZP)(T.Z)(p||(p=(0,P.Z)(["\n  color: rgb(69 79 99);\n  padding: 3px 15px;\n  background-color: transparent;\n  border-color: rgb(255 186 89);\n\n  &:hover {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89);\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n"]))),gn=function(n){var e=n.children,r=n.onCancel,o=n.formName,t=n.loading,i=n.onSave,a=n.disable;return(0,z.jsx)(dn.Z,{visible:!0,onCancel:r,confirmLoading:t,footer:[(0,z.jsx)(un,{onClick:r,children:"Cancel"},"cancel"),(0,z.jsx)(sn.Z,{type:"primary",disabled:a,danger:!o,loading:t,htmlType:"submit",form:o,onClick:i,children:"Confirm"},"submit")],children:e})};gn.defaultProps={onSave:function(){}};var fn,bn=r(4165),xn=r(1413),pn=r(5861),hn=r(1134),mn=r(1265),vn=r(7942),jn=r(521),Zn=r(9389),kn=vn.Ry().shape({title:vn.Z_().required("This field is required"),description:vn.Z_().required("This field is required"),pageCount:vn.Rx().required("This field is required").integer("Value must be an integer").positive("Value must be a positive number.")}),yn=function(n){var e=n.mode,r=n.data,o=n.name,t=n.onSave,i=jn.Z.Text,a=jn.Z.Title,c=Zn.Z.TextArea,l=(0,hn.cI)({resolver:(0,mn.X)(kn)}),d=l.control,s=l.handleSubmit,u=l.formState.errors,g=function(){var n=(0,pn.Z)((0,bn.Z)().mark((function n(e){return(0,bn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{t(r?(0,xn.Z)((0,xn.Z)({},e),{},{id:r._id}):e)}catch(o){}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,z.jsxs)(z.Fragment,{children:["create"===e&&(0,z.jsx)(a,{level:3,children:"Create Book"}),"edit"===e&&(0,z.jsx)(a,{level:3,children:"Update Book"}),(0,z.jsxs)("form",{onSubmit:s(g),id:o,children:[(0,z.jsx)("label",{children:"Book Title"}),(0,z.jsx)(hn.Qr,{render:function(n){var e=n.field;return(0,z.jsx)(Zn.Z,(0,xn.Z)({},e))},name:"title",control:d,defaultValue:(null===r||void 0===r?void 0:r.title)||""}),u.title&&(0,z.jsx)(i,{style:{display:"block"},type:"danger",children:u.title.message}),(0,z.jsx)("label",{children:"Description"}),(0,z.jsx)(hn.Qr,{render:function(n){var e=n.field;return(0,z.jsx)(c,(0,xn.Z)({style:{height:"80px"}},e))},name:"description",control:d,defaultValue:(null===r||void 0===r?void 0:r.description)||""}),u.description&&(0,z.jsx)(i,{style:{display:"block"},type:"danger",children:u.description.message}),(0,z.jsx)("label",{children:"Page Count"}),(0,z.jsx)(hn.Qr,{render:function(n){var e=n.field;return(0,z.jsx)(Zn.Z,(0,xn.Z)({},e))},name:"pageCount",control:d,defaultValue:null===r||void 0===r?void 0:r.pageCount}),u.pageCount&&(0,z.jsx)(i,{style:{display:"block"},type:"danger",children:u.pageCount.message})]})]})},Cn=function(n){var e=n.onSave,r=n.onCancel,o=(0,v.v9)(X).loading;return(0,z.jsx)(gn,{onCancel:r,formName:"create",loading:o,children:(0,z.jsx)(yn,{mode:"create",onSave:e,name:"create"})})},Pn=r(8079),wn=r(5965),Sn=(0,w.ZP)(wn.Z)(fn||(fn=(0,P.Z)(["\n  display: block;\n  .ant-spin-dot {\n    display: flex;\n    margin: 10px auto;\n  }\n  .ant-spin-dot-item {\n    background-color: rgb(255 186 89);\n  }\n"]))),Tn=function(n){var e=n.onSave,r=n.onCancel,o=(0,v.I0)(),t=(0,v.v9)(K),i=t.fetchData,a=t.data,c=t.loading,l=jn.Z.Text;return(0,m.useEffect)((function(){o((0,Pn.lf)(i))}),[]),(0,z.jsxs)(gn,{loading:c,form:"edit",onCancel:r,formName:"edit",disable:!a,children:[(0,z.jsx)(Sn,{spinning:c}),(0,z.jsxs)(z.Fragment,{children:[!c&&a&&(0,z.jsx)(yn,{mode:"edit",onSave:e,data:a,name:"edit"}),!a&&(0,z.jsx)(l,{type:"danger",children:" Something went wrong"})]})]})},Dn=function(n){var e=n.onSave,r=n.onCancel,o=(0,v.v9)($),t=o.loading,i=o.data,a=jn.Z.Title,c=jn.Z.Text;return(0,z.jsxs)(gn,{onCancel:r,onSave:function(){return e(i)},children:[(0,z.jsx)(Sn,{spinning:t}),!t&&i&&(0,z.jsxs)(en.Z,{direction:"vertical",children:[(0,z.jsxs)(a,{level:5,children:["Are you sure that you want to delete"," ",(0,z.jsx)(c,{underline:!0,italic:!0,children:i.title}),"?"]}),(0,z.jsx)(c,{children:"The item will be deleted immediately. You can not undo this action."})]})]})},_n=r(2687),An="MODAL_CREATE_NAME",En="MODAL_UPDATE_NAME",In="MODAL_DELETE_NAME",Mn=function(){var n=(0,v.v9)(R),e=(0,v.v9)(H),r=(0,v.v9)(W),o=(0,v.v9)(an),t=o.offset,i=o.page,a=o.itemsPerPage,c=o.endOffset,l=(0,v.v9)(cn),d=l.open,s=l.name,u=r.slice(t,c),g=Math.ceil(r.length/a),f=(0,v.I0)();(0,m.useEffect)((function(){return f((0,Pn.in)()),function(){return f((0,_n.mn)())}}),[f,i]);var b=function(){f((0,ln.I)({name:An}))},x=(0,m.useCallback)((function(n){f((0,_n.Fu)({id:n})),f((0,ln.I)({name:En}))}),[]),p=(0,m.useCallback)((function(){f((0,ln.I)({name:En}))}),[]),Z=(0,m.useCallback)((function(n){f((0,_n.VH)(n)),f((0,ln.I)({name:In}))}),[]);return(0,z.jsx)(N.S,{children:(0,z.jsxs)(j.W2,{children:[(0,z.jsx)(Y,{onClick:b,color:"light",children:"Create book"}),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(O,{children:[n&&!e&&(0,z.jsx)(z.Fragment,{children:(0,h.Z)(Array(u.length||a).keys()).map((function(n){return(0,z.jsx)(on,{},n)}))}),!n&&!e&&r.length>0&&(0,z.jsx)(z.Fragment,{children:u.map((function(n){return(0,z.jsx)(F,{data:n,onEdit:x,onDelete:Z},n._id)}))})]}),!n&&!e&&r.length>0&&(0,z.jsx)(nn,{currentPage:i,onPagination:function(n){var e=n*a%r.length;f((0,tn.Q)({page:n,offset:e}))},pageCount:g})]}),d&&s===An&&(0,z.jsx)(Cn,{onSave:function(n){f((0,Pn.UD)(n))},onCancel:b}),d&&s===En&&(0,z.jsx)(Tn,{onSave:function(n){f((0,Pn.Qs)(n))},onCancel:p}),d&&s===In&&(0,z.jsx)(Dn,{onSave:function(n){f((0,Pn.Yb)(n))},onCancel:Z}),e&&!n&&(0,z.jsx)(L.B,{})]})})}}}]);
//# sourceMappingURL=519.465e6dba.chunk.js.map