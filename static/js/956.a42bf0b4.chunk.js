"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[956],{5762:function(n,e,r){r.d(e,{S:function(){return s}});var o=r(5671),t=r(3144),i=r(136),a=r(7277),c=r(2791),l=r(1125),d=r(184),s=function(n){(0,i.Z)(r,n);var e=(0,a.Z)(r);function r(){var n;(0,o.Z)(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).state={error:!1},n}return(0,t.Z)(r,[{key:"componentDidCatch",value:function(n){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,d.jsx)(l.B,{}):this.props.children}}]),r}(c.Component)},1125:function(n,e,r){r.d(e,{B:function(){return l}});var o,t=r(168),i=r(6031).ZP.img(o||(o=(0,t.Z)(["\n  margin: 0 auto;\n  display: block;\n"]))),a=r.p+"static/media/error.d9aa7b1a785ebcbec41f.gif",c=r(184),l=function(){return(0,c.jsx)("div",{children:(0,c.jsx)(i,{src:a,alt:"error"})})}},7933:function(n,e,r){r.r(e),r.d(e,{default:function(){return zn}});var o,t,i,a,c,l,d,s,u,g,f,p,x,b,h=r(3433),m=r(2791),v=r(7121),j=r(2426),Z=r.n(j),k=r(1752),y=r(2622),C=r(168),P=r(6031),w=r(3504),S=r(9235),D=(0,P.ZP)(v.Zb)(o||(o=(0,C.Z)(["\n  position: relative;\n  margin: 10px;\n  width: 400px;\n  height: 260px;\n  text-align: center;\n  padding: 7px;\n  border-radius: 2px;\n  box-shadow: 0px 1px 5px rgb(244 233 235);\n"]))),I=(0,P.ZP)(S.Z)(t||(t=(0,C.Z)(["\n  position: absolute;\n  right: ",";\n  color: rgb(110 45 53);\n  padding: 3px 7px;\n  background-color: transparent;\n  border-color: rgb(110 45 53);\n\n  &:hover {\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n    color: #fff;\n  }\n  &:active:focus {\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n  }\n  &:active {\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(110 45 53 / 50%);\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n    color: #fff;\n  }\n"])),(function(n){return n.edit?"50px":"10px"})),T=(0,P.ZP)(v.ll)(i||(i=(0,C.Z)(["\n  font-weight: bold;\n  margin-top: 40px;\n  min-height: 50px;\n"]))),z=(0,P.ZP)(v.SK)(a||(a=(0,C.Z)(["\n  min-height: 80px;\n  margin-bottom: 15px;\n  font-size: 16px;\n"]))),B=(0,P.ZP)(v._R)(c||(c=(0,C.Z)(["\n  font-style: italic;\n"]))),_=(0,P.ZP)(w.rU)(l||(l=(0,C.Z)(["\n  border: 1px solid rgb(110 45 53);\n  color: rgb(110 45 53);\n  text-decoration: none;\n  position: absolute;\n  right: 10px;\n  padding: 3px 5px;\n  min-width: 65px;\n  border-radius: 3px;\n  &:hover {\n    color: white;\n    background-color: rgb(110 45 53);\n  }\n"]))),q=P.ZP.div(d||(d=(0,C.Z)(["\n  display: flex;\n  align-items: center;\n"]))),F=r(184),U=function(n){var e=n.data,r=n.onEdit,o=n.onDelete,t=e._id,i=e.title,a=e.description,c=e.publishDate,l=a.length>130?"".concat(a.slice(0,130),"..."):a,d=Z()(c).format("DD/MM/YYYY");return(0,F.jsx)(D,{size:"small",children:(0,F.jsxs)(v.eW,{children:[(0,F.jsx)(I,{onClick:function(){return r(t)},color:"ligth",edit:"edit",children:(0,F.jsx)(k.Z,{})}),(0,F.jsx)(I,{onClick:function(){return o(e)},color:"ligth",children:(0,F.jsx)(y.Z,{})}),(0,F.jsx)(T,{tag:"h5",children:i}),(0,F.jsx)(z,{tag:"p",children:l}),(0,F.jsxs)(q,{children:[(0,F.jsx)(B,{children:d}),(0,F.jsx)(_,{to:"/books/".concat(t),children:"More"})]})]})})},V=r(1125),Y=r(5762),A=r(6048),N=r.n(A),Q=(0,P.ZP)(S.Z)(s||(s=(0,C.Z)(["\n  display: block;\n  margin: 10px auto;\n  background-color: white;\n  color: rgb(110 45 53);\n  border-color: rgb(110 45 53);\n  padding: 5px 10px;\n  &:hover {\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n    color: #fff;\n  }\n  &:active:focus {\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n  }\n  &:active {\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(110 45 53 / 50%);\n    color: rgb(110 45 53);\n  }\n"]))),E=((0,P.ZP)(v.$j)(u||(u=(0,C.Z)(["\n  display: flex;\n  margin: 0 auto;\n  color: rgb(110 45 53);\n"]))),(0,P.ZP)(v.W2)(g||(g=(0,C.Z)(["\n  display: flex;\n  padding-right: 0;\n  flex-direction: row;\n  flex-wrap: wrap;\n"])))),M=((0,P.ZP)(N())(f||(f=(0,C.Z)(["\n  display: flex;\n  list-style: none;\n  margin: 30px auto;\n  padding-left: 0px;\n  width: fit-content;\n  border: 1px solid rgb(186 182 182);\n  border-radius: 5px;\n\n  li {\n    padding: 7px 15px;\n    color: rgb(110 45 53);\n    border-left: 1px solid #dee2e6;\n    &.active {\n      background-color: rgb(110 45 53);\n      color: white;\n    }\n  }\n  a {\n    color: rgb(110 45 53);\n    text-decoration: none;\n    &.disabled {\n      pointer-events: none;\n      color: gray;\n    }\n  }\n"]))),r(9434)),L=r(6916),R=function(n){return n.bookList},W=(0,L.P1)(R,(function(n){return n.loading})),O=(0,L.P1)(R,(function(n){return n.data})),H=(0,L.P1)(R,(function(n){return n.error})),K=(0,L.P1)(R,(function(n){return n.updateState})),X=(0,L.P1)(R,(function(n){return n.createState})),$=(0,L.P1)(R,(function(n){return n.deleteState})),G=(0,P.ZP)(v.tl)(p||(p=(0,C.Z)(["\n  ul {\n    justify-content: center;\n    margin: 20px 0;\n    text-align: center;\n    padding-bottom: 20px;\n  }\n"]))),J=(0,P.ZP)(v.kN)(x||(x=(0,C.Z)(["\n  min-width: 42px;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: rgb(122 122 122 / 60%);\n    color: rgb(255 255 255);\n  }\n  &:focus {\n    color: rgb(255 255 255);\n    background-color: rgb(110 45 53);\n    box-shadow: none;\n  }\n"])),(function(n){return n.active?"rgb(255 255 255)":"rgb(110 45 53)"}),(function(n){return n.active?"rgb(110 45 53)":"rgb(255 255 255)"})),nn=function(n){var e=n.currentPage,r=n.pageCount,o=n.onPagination;return(0,F.jsxs)(G,{children:[(0,F.jsx)(v.nt,{disabled:e<=0,children:(0,F.jsx)(J,{onClick:function(){return o(e-1)},previous:!0,tag:"button"})}),(0,h.Z)(Array(r).keys()).map((function(n,r){return(0,F.jsx)(v.nt,{children:(0,F.jsx)(J,{tag:"button",active:r===e?"active":null,onClick:function(){return o(r)},children:r+1})},n)})),(0,F.jsx)(v.nt,{disabled:e>=r-1,children:(0,F.jsx)(J,{tag:"button",onClick:function(){return o(e+1)},next:!0})})]})},en=r(2296),rn=r(9302),on=(0,L.P1)((function(n){return n.bookList}),(function(n){return n.pagination}),(function(n,e){return{page:e.page,offset:e.offset,itemsPerPage:e.itemsPerPage,endOffset:e.offset+e.itemsPerPage}})),tn=function(n){return n.modal},an=r(9922),cn=r(9720),ln=r(7309),dn=(0,P.ZP)(S.Z)(b||(b=(0,C.Z)(["\n  color: rgb(110 45 53);\n  padding: 3px 15px;\n  background-color: transparent;\n  border-color: rgb(110 45 53 / 56%);\n\n  &:hover {\n    background-color: rgb(110 45 53 / 56%);\n    border-color: rgb(110 45 53/ 56%);\n    color: #fff;\n  }\n  &:active:focus {\n    background-color: rgb(110 45 53/ 56%);\n    border-color: rgb(110 45 53/ 56%);\n  }\n  &:active {\n    background-color: rgb(110 45 53/ 56%);\n    border-color: rgb(110 45 53/ 56%);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(110 45 53 / 50%);\n    background-color: rgb(110 45 53);\n    border-color: rgb(110 45 53);\n    color: #fff;\n  }\n"]))),sn=function(n){var e=n.children,r=n.onCancel,o=n.formName,t=n.loading,i=n.onSave;return(0,F.jsx)(cn.Z,{visible:!0,onCancel:r,confirmLoading:t,footer:[(0,F.jsx)(dn,{onClick:r,children:"Cancel"},"cancel"),(0,F.jsx)(ln.Z,{type:"primary",danger:!0,loading:t,htmlType:"submit",form:o,onClick:i,children:"Confirm"},"submit")],children:e})};sn.defaultProps={onSave:function(){}};var un,gn=r(4165),fn=r(1413),pn=r(5861),xn=r(1134),bn=r(1265),hn=r(7942),mn=r(3971),vn=r(3478),jn=hn.Ry().shape({title:hn.Z_().required("This field is required"),description:hn.Z_().required("This field is required"),pageCount:hn.Rx().required("This field is required").integer("Value must be an integer").positive("Value must be a positive number.")}),Zn=function(n){var e=n.mode,r=n.data,o=n.name,t=n.onSave,i=mn.Z.Text,a=mn.Z.Title,c=vn.Z.TextArea,l=(0,xn.cI)({resolver:(0,bn.X)(jn)}),d=l.control,s=l.handleSubmit,u=l.formState.errors,g=function(){var n=(0,pn.Z)((0,gn.Z)().mark((function n(e){return(0,gn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{t(r?(0,fn.Z)((0,fn.Z)({},e),{},{id:r._id}):e)}catch(o){}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,F.jsxs)(F.Fragment,{children:["create"===e&&(0,F.jsx)(a,{level:3,children:"Create Book"}),"update"===e&&(0,F.jsx)(a,{level:3,children:"Update Book"}),(0,F.jsxs)("form",{onSubmit:s(g),id:o,children:[(0,F.jsx)("label",{children:"Book Title"}),(0,F.jsx)(xn.Qr,{render:function(n){var e=n.field;return(0,F.jsx)(vn.Z,(0,fn.Z)({},e))},name:"title",control:d,defaultValue:(null===r||void 0===r?void 0:r.title)||""}),u.title&&(0,F.jsx)(i,{style:{display:"block"},type:"danger",children:u.title.message}),(0,F.jsx)("label",{children:"Description"}),(0,F.jsx)(xn.Qr,{render:function(n){var e=n.field;return(0,F.jsx)(c,(0,fn.Z)({style:{height:"80px"}},e))},name:"description",control:d,defaultValue:(null===r||void 0===r?void 0:r.description)||""}),u.description&&(0,F.jsx)(i,{style:{display:"block"},type:"danger",children:u.description.message}),(0,F.jsx)("label",{children:"Page Count"}),(0,F.jsx)(xn.Qr,{render:function(n){var e=n.field;return(0,F.jsx)(vn.Z,(0,fn.Z)({},e))},name:"pageCount",control:d,defaultValue:null===r||void 0===r?void 0:r.pageCount}),u.pageCount&&(0,F.jsx)(i,{style:{display:"block"},type:"danger",children:u.pageCount.message})]})]})},kn=function(n){var e=n.onSave,r=n.onCancel;(0,M.v9)(X).loading;return(0,F.jsx)(sn,{form:"create",onCancel:r,formName:"create",children:(0,F.jsx)(Zn,{mode:"create",onSave:e,name:"create"})})},yn=r(5965),Cn=(0,P.ZP)(yn.Z)(un||(un=(0,C.Z)(["\n  display: block;\n  .ant-spin-dot {\n    display: flex;\n    margin: 10px auto;\n  }\n  .ant-spin-dot-item {\n    background-color: rgb(110 45 53);\n  }\n"]))),Pn=function(n){var e=n.onSave,r=n.onCancel,o=(0,M.I0)(),t=(0,M.v9)(K),i=t.fetchData,a=t.data,c=t.loading;return(0,m.useEffect)((function(){o((0,en.lf)(i))}),[]),(0,F.jsxs)(sn,{form:"edit",onCancel:r,formName:"edit",children:[(0,F.jsx)(Cn,{spinning:c}),!c&&a&&(0,F.jsx)(Zn,{mode:"edit",onSave:e,data:a,name:"edit"})]})},wn=r(1675),Sn=r(5303),Dn=function(n){var e=n.onSave,r=n.onCancel,o=(0,M.v9)($),t=o.loading,i=o.data,a=mn.Z.Title,c=mn.Z.Text;return(0,F.jsxs)(sn,{onCancel:r,onSave:function(){return e(i)},formName:"edit",children:[(0,F.jsx)(Cn,{spinning:t}),!t&&i&&(0,F.jsxs)(Sn.Z,{direction:"vertical",children:[(0,F.jsxs)(a,{level:5,children:["Are you sure that you want to delete"," ",(0,F.jsx)(c,{underline:!0,italic:!0,children:i.title}),"?"]}),(0,F.jsx)(c,{children:"The item will be deleted immediately. You can not undo this action."})]})]})},In=r(8361),Tn=function(){return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(Sn.Z,{direction:"vertical",size:"large",style:{alignItems:"flex-end",width:"400px",margin:"20px 10px"},children:[(0,F.jsxs)(Sn.Z,{children:[(0,F.jsx)(In.Z.Button,{shape:"round",size:"small",active:!0}),(0,F.jsx)(In.Z.Button,{shape:"round",size:"small",active:!0})]}),(0,F.jsx)(In.Z.Input,{size:"default",active:!0,style:{width:"380px"}}),(0,F.jsx)(In.Z.Input,{size:"large",active:!0,style:{width:"380px"}}),(0,F.jsx)(In.Z.Input,{size:"default",active:!0,style:{width:"380px"}})]})})},zn=function(){var n=(0,M.v9)(W),e=(0,M.v9)(H),r=(0,M.v9)(O),o=(0,M.v9)(on),t=o.offset,i=o.page,a=o.itemsPerPage,c=o.endOffset,l=(0,M.v9)(tn),d=l.open,s=l.name,u=r.slice(t,c),g=Math.ceil(r.length/a),f=(0,M.I0)();(0,m.useEffect)((function(){f((0,en.in)())}),[f,i]);var p=function(){f((0,an.I)({name:"Create"}))},x=(0,m.useCallback)((function(n){f((0,wn.Fu)({id:n})),f((0,an.I)({name:"Update"}))}),[]),b=(0,m.useCallback)((function(){f((0,an.I)({name:"Update"}))}),[]),j=(0,m.useCallback)((function(n){f((0,wn.VH)(n)),f((0,an.I)({name:"Delete"}))}),[]);return(0,F.jsx)(Y.S,{children:(0,F.jsxs)(v.W2,{children:[(0,F.jsx)(Q,{onClick:p,color:"light",children:"Create book"}),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(E,{children:[n&&!e&&(0,F.jsx)(F.Fragment,{children:(0,h.Z)(Array(u.length).keys()).map((function(n){return(0,F.jsx)(Tn,{},n)}))}),!n&&!e&&r.length>0&&(0,F.jsx)(F.Fragment,{children:u.map((function(n){return(0,F.jsx)(U,{data:n,onEdit:x,onDelete:j},n._id)}))})]}),(0,F.jsx)(nn,{currentPage:i,onPagination:function(n){var e=n*a%r.length;f((0,rn.Q)({page:n,offset:e}))},pageCount:g})]}),d&&"Create"===s&&(0,F.jsx)(kn,{onSave:function(n){f((0,en.UD)(n))},onCancel:p}),d&&"Update"===s&&(0,F.jsx)(Pn,{onSave:function(n){f((0,en.Qs)(n))},onCancel:b}),d&&"Delete"===s&&(0,F.jsx)(Dn,{onSave:function(n){f((0,en.Yb)(n))},onCancel:j}),e&&!n&&(0,F.jsx)(V.B,{})]})})}}}]);
//# sourceMappingURL=956.a42bf0b4.chunk.js.map