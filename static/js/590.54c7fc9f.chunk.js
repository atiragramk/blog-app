"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[590],{5762:function(n,e,r){r.d(e,{S:function(){return s}});var o=r(5671),t=r(3144),i=r(136),a=r(7277),l=r(2791),c=r(1125),d=r(184),s=function(n){(0,i.Z)(r,n);var e=(0,a.Z)(r);function r(){var n;(0,o.Z)(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).state={error:!1},n}return(0,t.Z)(r,[{key:"componentDidCatch",value:function(n){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,d.jsx)(c.B,{}):this.props.children}}]),r}(l.Component)},1125:function(n,e,r){r.d(e,{B:function(){return g}});var o,t,i=r(168),a=r(6031),l=r(3504),c=a.ZP.img(o||(o=(0,i.Z)(["\n  margin: 0 auto;\n  display: block;\n"]))),d=(0,a.ZP)(l.rU)(t||(t=(0,i.Z)(["\n  max-width: fit-content;\n  display: block;\n  margin: 10px auto;\n  border: 1px solid rgb(255 186 89);\n  color: rgb(69 79 99);\n  text-decoration: none;\n  padding: 5px 10px;\n  border-radius: 3px;\n  &:hover {\n    color: #fff;\n    background-color: rgb(255 186 89);\n  }\n"]))),s=r.p+"static/media/error.d9aa7b1a785ebcbec41f.gif",u=r(184),g=function(){return(0,u.jsxs)("div",{children:[(0,u.jsx)(c,{src:s,alt:"error"}),(0,u.jsx)(d,{to:"/",children:"Back to Main"})]})}},824:function(n,e,r){r.r(e),r.d(e,{default:function(){return Ln}});var o,t,i,a,l,c,d,s,u,g,f,b,p,x,h=r(3433),m=r(2791),v=r(9434),j=r(7121),Z=r(2426),k=r.n(Z),y=r(1752),C=r(2622),P=r(2007),w=r.n(P),S=(w().shape({_id:w().string,title:w().string,description:w().string,pageCount:w().string,publishDate:w().string,createdAt:w().string,updatedAt:w().string}),r(168)),T=r(6031),A=r(3504),D=r(9235),_=(0,T.ZP)(j.Zb)(o||(o=(0,S.Z)(["\n  position: relative;\n  margin: 10px;\n  width: 400px;\n  height: 260px;\n  text-align: center;\n  border-radius: 2px;\n  box-shadow: 0px 1px 5px rgb(244 233 235);\n"]))),E=(0,T.ZP)(D.Z)(t||(t=(0,S.Z)(["\n  position: absolute;\n  right: ",";\n  color: rgb(69 79 99);\n  padding: 6px 7px;\n  background-color: transparent;\n  border-color: rgb(255 186 89);\n  span {\n    display: inline-flex;\n    align-items: center;\n  }\n  &:hover {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89 / 50%);\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n"])),(function(n){return n.edit?"50px":"10px"})),M=(0,T.ZP)(j.ll)(i||(i=(0,S.Z)(["\n  font-weight: bold;\n  margin-top: 40px;\n  min-height: 50px;\n  color: rgb(69 79 99);\n"]))),I=(0,T.ZP)(j.SK)(a||(a=(0,S.Z)(["\n  min-height: 80px;\n  margin-bottom: 15px;\n  font-size: 16px;\n  color: rgb(69 79 99);\n"]))),z=(0,T.ZP)(j._R)(l||(l=(0,S.Z)(["\n  font-style: italic;\n  color: rgb(69 79 99);\n"]))),B=(0,T.ZP)(A.rU)(c||(c=(0,S.Z)(["\n  border: 1px solid rgb(255 186 89);\n  color: rgb(69 79 99);\n  text-decoration: none;\n  position: absolute;\n  right: 10px;\n  padding: 3px 5px;\n  min-width: 65px;\n  border-radius: 3px;\n  &:hover {\n    color: #fff;\n    background-color: rgb(255 186 89);\n  }\n"]))),N=T.ZP.div(d||(d=(0,S.Z)(["\n  display: flex;\n  align-items: center;\n"]))),L=r(184),V=function(n){var e=n.data,r=n.onEdit,o=n.onDelete,t=e._id,i=e.title,a=e.description,l=e.publishDate,c=a.length>130?"".concat(a.slice(0,130),"..."):a,d=k()(l).format("DD/MM/YYYY");return(0,L.jsx)(_,{size:"small",children:(0,L.jsxs)(j.eW,{children:[(0,L.jsx)(E,{onClick:function(){return r(t)},type:"default",edit:"edit",children:(0,L.jsx)(y.Z,{})}),(0,L.jsx)(E,{onClick:function(){return o(e)},type:"default",children:(0,L.jsx)(C.Z,{})}),(0,L.jsx)(M,{tag:"h5",children:i}),(0,L.jsx)(I,{tag:"p",children:c}),(0,L.jsxs)(N,{children:[(0,L.jsx)(z,{children:d}),(0,L.jsx)(B,{to:"/books/".concat(t),children:"More"})]})]})})},q=r(1125),F=r(5762),O=r(6048),Y=r.n(O),Q=r(5965),U=(0,T.ZP)(D.Z)(s||(s=(0,S.Z)(["\n  display: block;\n  margin: 20px auto;\n  background-color: rgb(255 186 89);\n  color: rgb(63 65 69);\n  border-color: rgb(255 186 89);\n  &:hover {\n    background-color: transparent;\n    border-color: rgb(255 186 89);\n    color: rgb(255 186 89);\n  }\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: rgb(63 65 69);\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89 / 50%);\n    color: rgb(63 65 69);\n  }\n"]))),R=(0,T.ZP)(Q.Z)(u||(u=(0,S.Z)(["\n  .ant-spin-dot-item {\n    background-color: rgb(255 186 89);\n  }\n"]))),W=(0,T.ZP)(j.W2)(g||(g=(0,S.Z)(["\n  display: flex;\n  justify-content: center;\n  padding: 0;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]))),H=((0,T.ZP)(Y())(f||(f=(0,S.Z)(["\n  display: flex;\n  list-style: none;\n  margin: 30px auto;\n  padding-left: 0px;\n  width: fit-content;\n  border: 1px solid rgb(186 182 182);\n  border-radius: 5px;\n\n  li {\n    padding: 7px 15px;\n    color: rgb(110 45 53);\n    border-left: 1px solid #dee2e6;\n    &.active {\n      background-color: rgb(110 45 53);\n      color: white;\n    }\n  }\n  a {\n    color: rgb(110 45 53);\n    text-decoration: none;\n    &.disabled {\n      pointer-events: none;\n      color: gray;\n    }\n  }\n"]))),r(6916)),K=function(n){return n.bookList},X=(0,H.P1)(K,(function(n){return n.loading})),G=(0,H.P1)(K,(function(n){return n.data})),J=(0,H.P1)(K,(function(n){return n.error})),$=(0,H.P1)(K,(function(n){return n.updateState})),nn=(0,H.P1)(K,(function(n){return n.createState})),en=(0,H.P1)(K,(function(n){return n.deleteState})),rn=(0,T.ZP)(j.tl)(b||(b=(0,S.Z)(["\n  ul {\n    justify-content: center;\n    margin: 20px 0;\n    text-align: center;\n    padding-bottom: 20px;\n  }\n"]))),on=(0,T.ZP)(j.kN)(p||(p=(0,S.Z)(["\n  min-width: 42px;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: rgb(69 79 89 / 20%);\n    color: rgb(255 186 89);\n  }\n  &:focus {\n    color: rgb(69 79 89);\n    background-color: rgb(255 186 89);\n    box-shadow: none;\n  }\n"])),(function(n){n.active;return"rgb(69 79 99)"}),(function(n){return n.active?"rgb(255 186 89)":"rgb(255 255 255)"})),tn=function(n){var e=n.currentPage,r=n.pageCount,o=n.onPagination;return(0,L.jsxs)(rn,{children:[(0,L.jsx)(j.nt,{disabled:e<=0,children:(0,L.jsx)(on,{onClick:function(){return o(e-1)},previous:!0,tag:"button"})}),(0,h.Z)(Array(r).keys()).map((function(n,r){return(0,L.jsx)(j.nt,{children:(0,L.jsx)(on,{tag:"button",active:r===e?"active":null,onClick:function(){return o(r)},children:r+1})},n)})),(0,L.jsx)(j.nt,{disabled:e>=r-1,children:(0,L.jsx)(on,{tag:"button",onClick:function(){return o(e+1)},next:!0})})]})},an=r(5303),ln=r(8361),cn=function(){return(0,L.jsx)(L.Fragment,{children:(0,L.jsxs)(an.Z,{direction:"vertical",size:"large",style:{alignItems:"flex-end",width:"400px",height:"250px",margin:"20px 10px"},children:[(0,L.jsxs)(an.Z,{children:[(0,L.jsx)(ln.Z.Button,{shape:"round",size:"small",active:!0}),(0,L.jsx)(ln.Z.Button,{shape:"round",size:"small",active:!0})]}),(0,L.jsx)(ln.Z.Input,{size:"large",active:!0,style:{width:"380px"}}),(0,L.jsx)(ln.Z.Input,{size:"large",active:!0,style:{width:"380px"}}),(0,L.jsx)(ln.Z.Input,{size:"default",active:!0,style:{width:"380px"}})]})})},dn=r(9302),sn=(0,H.P1)((function(n){return n.bookList}),(function(n){return n.pagination}),(function(n,e){return{page:e.page,offset:e.offset,itemsPerPage:e.itemsPerPage,endOffset:e.offset+e.itemsPerPage}})),un=function(n){return n.modal},gn=r(9922),fn=r(521),bn=r(8493),pn=r(7309),xn=(0,T.ZP)(D.Z)(x||(x=(0,S.Z)(["\n  color: rgb(69 79 99);\n  padding: 3px 15px;\n  background-color: transparent;\n  border-color: rgb(255 186 89);\n\n  &:hover {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89);\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n"]))),hn=fn.Z.Text,mn=function(n){var e=n.children,r=n.onCancel,o=n.formName,t=n.loading,i=n.onSave,a=n.disable;return(0,L.jsx)(bn.Z,{visible:!0,onCancel:r,confirmLoading:t,footer:[(0,L.jsx)(xn,{loading:t,onClick:r,disabled:t,children:"Cancel"},"cancel"),(0,L.jsx)(pn.Z,{type:"primary",disabled:a,danger:!o,loading:t,htmlType:"submit",form:o,onClick:i,children:"Confirm"},"submit")],children:e})};mn.defaultProps={onSave:function(){},formName:"",disable:!1,children:(0,L.jsx)(hn,{children:"Modal window"}),loading:!1,onCancel:function(){}};var vn,jn=r(4165),Zn=r(1413),kn=r(5861),yn=r(1134),Cn=r(1265),Pn=r(7942),wn=r(9389),Sn=Pn.Ry().shape({title:Pn.Z_().required("This field is required"),description:Pn.Z_().required("This field is required"),pageCount:Pn.Rx().typeError("Value must be a number").required("This field is required").integer("Value must be an integer").positive("Value must be a positive number.")}),Tn=function(n){var e=n.mode,r=n.data,o=n.name,t=n.onSave,i=fn.Z.Text,a=fn.Z.Title,l=wn.Z.TextArea,c=(0,yn.cI)({resolver:(0,Cn.X)(Sn)}),d=c.control,s=c.handleSubmit,u=c.formState.errors,g=function(){var n=(0,kn.Z)((0,jn.Z)().mark((function n(e){return(0,jn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{t(r?(0,Zn.Z)((0,Zn.Z)({},e),{},{id:r._id}):e)}catch(o){}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:["create"===e&&(0,L.jsx)(a,{level:3,children:"Create Book"}),"edit"===e&&(0,L.jsx)(a,{level:3,children:"Update Book"}),(0,L.jsxs)("form",{onSubmit:s(g),id:o,children:[(0,L.jsx)("label",{children:"Book Title"}),(0,L.jsx)(yn.Qr,{render:function(n){var e=n.field;return(0,L.jsx)(wn.Z,(0,Zn.Z)({},e))},name:"title",control:d,defaultValue:(null===r||void 0===r?void 0:r.title)||""}),u.title&&(0,L.jsx)(i,{style:{display:"block"},type:"danger",children:u.title.message}),(0,L.jsx)("label",{children:"Description"}),(0,L.jsx)(yn.Qr,{render:function(n){var e=n.field;return(0,L.jsx)(l,(0,Zn.Z)({style:{height:"80px"}},e))},name:"description",control:d,defaultValue:(null===r||void 0===r?void 0:r.description)||""}),u.description&&(0,L.jsx)(i,{style:{display:"block"},type:"danger",children:u.description.message}),(0,L.jsx)("label",{children:"Page Count"}),(0,L.jsx)(yn.Qr,{render:function(n){var e=n.field;return(0,L.jsx)(wn.Z,(0,Zn.Z)({},e))},name:"pageCount",control:d,defaultValue:null===r||void 0===r?void 0:r.pageCount}),u.pageCount&&(0,L.jsx)(i,{style:{display:"block"},type:"danger",children:u.pageCount.message})]})]})};Tn.defaultProps={data:null,mode:"create",name:"create",onSave:function(){}};var An=(0,T.ZP)(Q.Z)(vn||(vn=(0,S.Z)(["\n  display: block;\n  .ant-spin-dot {\n    display: flex;\n    margin: 10px auto;\n  }\n  .ant-spin-dot-item {\n    background-color: rgb(255 186 89);\n  }\n"]))),Dn=function(n){var e=n.onSave,r=n.onCancel,o=(0,v.v9)(nn).loading;return(0,L.jsx)(mn,{onCancel:r,formName:"create",loading:o,children:(0,L.jsx)(An,{spinning:o,children:(0,L.jsx)(Tn,{mode:"create",onSave:e,name:"create"})})})},_n=r(8079),En=function(n){var e=n.onSave,r=n.onCancel,o=(0,v.I0)(),t=(0,v.v9)($),i=t.fetchData,a=t.data,l=t.loading,c=fn.Z.Text;return(0,m.useEffect)((function(){o((0,_n.lf)(i))}),[]),(0,L.jsx)(mn,{loading:l,form:"edit",onCancel:r,formName:"edit",disable:!a,children:(0,L.jsxs)(An,{size:"middle",spinning:l,children:[Object.keys(a).length>0&&(0,L.jsx)(Tn,{mode:"edit",onSave:e,data:a,name:"edit"}),!a&&(0,L.jsx)(c,{type:"danger",children:" Something went wrong"})]})})},Mn=function(n){var e=n.onSave,r=n.onCancel,o=(0,v.v9)(en),t=o.loading,i=o.data,a=fn.Z.Title,l=fn.Z.Text;return(0,L.jsx)(mn,{onCancel:r,onSave:function(){return e(i)},loading:t,children:(0,L.jsx)(An,{spinning:t,children:i&&(0,L.jsxs)(an.Z,{direction:"vertical",children:[(0,L.jsxs)(a,{level:5,children:["Are you sure that you want to delete"," ",(0,L.jsx)(l,{underline:!0,italic:!0,children:i.title}),"?"]}),(0,L.jsx)(l,{children:"The item will be deleted immediately. You can not undo this action."})]})})})},In=r(2687),zn="MODAL_CREATE_NAME",Bn="MODAL_UPDATE_NAME",Nn="MODAL_DELETE_NAME",Ln=function(){var n=(0,v.v9)(X),e=(0,v.v9)(J),r=(0,v.v9)(G),o=(0,v.v9)(sn),t=o.offset,i=o.page,a=o.itemsPerPage,l=o.endOffset,c=(0,v.v9)(un),d=c.open,s=c.name,u=r.slice(t,l),g=Math.ceil(r.length/a),f=(0,v.I0)();(0,m.useEffect)((function(){return f((0,_n.in)()),function(){return f((0,In.mn)())}}),[f]);var b=function(){f((0,gn.I)({name:zn}))},p=(0,m.useCallback)((function(n){f((0,In.Fu)({id:n})),f((0,gn.I)({name:Bn}))}),[]),x=(0,m.useCallback)((function(){f((0,gn.I)({name:Bn}))}),[]),Z=(0,m.useCallback)((function(n){f((0,In.VH)(n)),f((0,gn.I)({name:Nn}))}),[]);return(0,L.jsx)(F.S,{children:(0,L.jsxs)(j.W2,{children:[(0,L.jsx)(U,{onClick:b,type:"primary",children:"Create book"}),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(R,{spinning:n,style:{maxHeight:"none"},size:"large",children:(0,L.jsxs)(W,{children:[n&&!e&&0===r.length&&(0,L.jsx)(L.Fragment,{children:(0,h.Z)(Array(u.length||a).keys()).map((function(n){return(0,L.jsx)(cn,{},n)}))}),!e&&r.length>0&&(0,L.jsx)(L.Fragment,{children:u.map((function(n){return(0,L.jsx)(V,{data:n,onEdit:p,onDelete:Z},n._id)}))})]})}),!n&&!e&&r.length>0&&(0,L.jsx)(tn,{currentPage:i,onPagination:function(n){var e=n*a%r.length;f((0,dn.Q)({page:n,offset:e}))},pageCount:g})]}),d&&s===zn&&(0,L.jsx)(Dn,{onSave:function(n){f((0,_n.UD)(n))},onCancel:b}),d&&s===Bn&&(0,L.jsx)(En,{onSave:function(n){f((0,_n.Qs)(n))},onCancel:x}),d&&s===Nn&&(0,L.jsx)(Mn,{onSave:function(n){f((0,_n.Yb)(n))},onCancel:Z}),e&&!n&&(0,L.jsx)(q.B,{})]})})}}}]);
//# sourceMappingURL=590.54c7fc9f.chunk.js.map