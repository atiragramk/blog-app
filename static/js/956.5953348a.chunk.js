"use strict";(self.webpackChunkblog_app=self.webpackChunkblog_app||[]).push([[956],{5762:function(n,e,r){r.d(e,{S:function(){return s}});var o=r(5671),t=r(3144),i=r(136),a=r(7277),l=r(2791),c=r(1125),d=r(184),s=function(n){(0,i.Z)(r,n);var e=(0,a.Z)(r);function r(){var n;(0,o.Z)(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return(n=e.call.apply(e,[this].concat(i))).state={error:!1},n}return(0,t.Z)(r,[{key:"componentDidCatch",value:function(n){this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?(0,d.jsx)(c.B,{}):this.props.children}}]),r}(l.Component)},1125:function(n,e,r){r.d(e,{B:function(){return g}});var o,t,i=r(168),a=r(6031),l=r(3504),c=a.ZP.img(o||(o=(0,i.Z)(["\n  margin: 0 auto;\n  display: block;\n"]))),d=(0,a.ZP)(l.rU)(t||(t=(0,i.Z)(["\n  max-width: fit-content;\n  display: block;\n  margin: 10px auto;\n  border: 1px solid rgb(255 186 89);\n  color: rgb(69 79 99);\n  text-decoration: none;\n  padding: 5px 10px;\n  border-radius: 3px;\n  &:hover {\n    color: #fff;\n    background-color: rgb(255 186 89);\n  }\n"]))),s=r.p+"static/media/error.d9aa7b1a785ebcbec41f.gif",u=r(184),g=function(){return(0,u.jsxs)("div",{children:[(0,u.jsx)(c,{src:s,alt:"error"}),(0,u.jsx)(d,{to:"/",children:"Back to Main"})]})}},7933:function(n,e,r){r.r(e),r.d(e,{default:function(){return Bn}});var o,t,i,a,l,c,d,s,u,g,f,b,p,x,h=r(3433),m=r(2791),v=r(7121),j=r(2426),Z=r.n(j),k=r(1752),y=r(2622),C=r(168),P=r(6031),w=r(3504),S=r(9235),T=(0,P.ZP)(v.Zb)(o||(o=(0,C.Z)(["\n  position: relative;\n  margin: 10px;\n  width: 400px;\n  height: 260px;\n  text-align: center;\n  border-radius: 2px;\n  box-shadow: 0px 1px 5px rgb(244 233 235);\n"]))),D=(0,P.ZP)(S.Z)(t||(t=(0,C.Z)(["\n  position: absolute;\n  right: ",";\n  color: rgb(69 79 99);\n  padding: 6px 7px;\n  background-color: transparent;\n  border-color: rgb(255 186 89);\n  span {\n    display: inline-flex;\n    align-items: center;\n  }\n  &:hover {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89 / 50%);\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n"])),(function(n){return n.edit?"50px":"10px"})),I=(0,P.ZP)(v.ll)(i||(i=(0,C.Z)(["\n  font-weight: bold;\n  margin-top: 40px;\n  min-height: 50px;\n  color: rgb(69 79 99);\n"]))),B=(0,P.ZP)(v.SK)(a||(a=(0,C.Z)(["\n  min-height: 80px;\n  margin-bottom: 15px;\n  font-size: 16px;\n  color: rgb(69 79 99);\n"]))),z=(0,P.ZP)(v._R)(l||(l=(0,C.Z)(["\n  font-style: italic;\n  color: rgb(69 79 99);\n"]))),_=(0,P.ZP)(w.rU)(c||(c=(0,C.Z)(["\n  border: 1px solid rgb(255 186 89);\n  color: rgb(69 79 99);\n  text-decoration: none;\n  position: absolute;\n  right: 10px;\n  padding: 3px 5px;\n  min-width: 65px;\n  border-radius: 3px;\n  &:hover {\n    color: #fff;\n    background-color: rgb(255 186 89);\n  }\n"]))),F=P.ZP.div(d||(d=(0,C.Z)(["\n  display: flex;\n  align-items: center;\n"]))),U=r(184),q=function(n){var e=n.data,r=n.onEdit,o=n.onDelete,t=e._id,i=e.title,a=e.description,l=e.publishDate,c=a.length>130?"".concat(a.slice(0,130),"..."):a,d=Z()(l).format("DD/MM/YYYY");return(0,U.jsx)(T,{size:"small",children:(0,U.jsxs)(v.eW,{children:[(0,U.jsx)(D,{onClick:function(){return r(t)},type:"default",edit:"edit",children:(0,U.jsx)(k.Z,{})}),(0,U.jsx)(D,{onClick:function(){return o(e)},type:"default",children:(0,U.jsx)(y.Z,{})}),(0,U.jsx)(I,{tag:"h5",children:i}),(0,U.jsx)(B,{tag:"p",children:c}),(0,U.jsxs)(F,{children:[(0,U.jsx)(z,{children:d}),(0,U.jsx)(_,{to:"/books/".concat(t),children:"More"})]})]})})},V=r(1125),Y=r(5762),A=r(6048),M=r.n(A),Q=(0,P.ZP)(S.Z)(s||(s=(0,C.Z)(["\n  display: block;\n  margin: 20px auto;\n  background-color: rgb(255 186 89);\n  color: rgb(63 65 69);\n  border-color: rgb(255 186 89);\n  &:hover {\n    background-color: transparent;\n    border-color: rgb(255 186 89);\n    color: rgb(255 186 89);\n  }\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: rgb(63 65 69);\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89 / 50%);\n    color: rgb(63 65 69);\n  }\n"]))),E=((0,P.ZP)(v.$j)(u||(u=(0,C.Z)(["\n  display: flex;\n  margin: 0 auto;\n  color: rgb(110 45 53);\n"]))),(0,P.ZP)(v.W2)(g||(g=(0,C.Z)(["\n  display: flex;\n  padding: 0;\n  flex-direction: row;\n  flex-wrap: wrap;\n"])))),N=((0,P.ZP)(M())(f||(f=(0,C.Z)(["\n  display: flex;\n  list-style: none;\n  margin: 30px auto;\n  padding-left: 0px;\n  width: fit-content;\n  border: 1px solid rgb(186 182 182);\n  border-radius: 5px;\n\n  li {\n    padding: 7px 15px;\n    color: rgb(110 45 53);\n    border-left: 1px solid #dee2e6;\n    &.active {\n      background-color: rgb(110 45 53);\n      color: white;\n    }\n  }\n  a {\n    color: rgb(110 45 53);\n    text-decoration: none;\n    &.disabled {\n      pointer-events: none;\n      color: gray;\n    }\n  }\n"]))),r(9434)),L=r(6916),R=function(n){return n.bookList},W=(0,L.P1)(R,(function(n){return n.loading})),O=(0,L.P1)(R,(function(n){return n.data})),H=(0,L.P1)(R,(function(n){return n.error})),K=(0,L.P1)(R,(function(n){return n.updateState})),X=(0,L.P1)(R,(function(n){return n.createState})),$=(0,L.P1)(R,(function(n){return n.deleteState})),G=(0,P.ZP)(v.tl)(b||(b=(0,C.Z)(["\n  ul {\n    justify-content: center;\n    margin: 20px 0;\n    text-align: center;\n    padding-bottom: 20px;\n  }\n"]))),J=(0,P.ZP)(v.kN)(p||(p=(0,C.Z)(["\n  min-width: 42px;\n  color: ",";\n  background-color: ",";\n  &:hover {\n    background-color: rgb(69 79 89 / 20%);\n    color: rgb(255 186 89);\n  }\n  &:focus {\n    color: rgb(69 79 89);\n    background-color: rgb(255 186 89);\n    box-shadow: none;\n  }\n"])),(function(n){n.active;return"rgb(69 79 99)"}),(function(n){return n.active?"rgb(255 186 89)":"rgb(255 255 255)"})),nn=function(n){var e=n.currentPage,r=n.pageCount,o=n.onPagination;return(0,U.jsxs)(G,{children:[(0,U.jsx)(v.nt,{disabled:e<=0,children:(0,U.jsx)(J,{onClick:function(){return o(e-1)},previous:!0,tag:"button"})}),(0,h.Z)(Array(r).keys()).map((function(n,r){return(0,U.jsx)(v.nt,{children:(0,U.jsx)(J,{tag:"button",active:r===e?"active":null,onClick:function(){return o(r)},children:r+1})},n)})),(0,U.jsx)(v.nt,{disabled:e>=r-1,children:(0,U.jsx)(J,{tag:"button",onClick:function(){return o(e+1)},next:!0})})]})},en=r(2296),rn=r(9302),on=(0,L.P1)((function(n){return n.bookList}),(function(n){return n.pagination}),(function(n,e){return{page:e.page,offset:e.offset,itemsPerPage:e.itemsPerPage,endOffset:e.offset+e.itemsPerPage}})),tn=function(n){return n.modal},an=r(9922),ln=r(8493),cn=r(7309),dn=(0,P.ZP)(S.Z)(x||(x=(0,C.Z)(["\n  color: rgb(69 79 99);\n  padding: 3px 15px;\n  background-color: transparent;\n  border-color: rgb(255 186 89);\n\n  &:hover {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:active:focus {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n  }\n  &:active {\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n  &:focus {\n    box-shadow: 0 0 0 0.25rem rgb(255 186 89);\n    background-color: rgb(255 186 89);\n    border-color: rgb(255 186 89);\n    color: #fff;\n  }\n"]))),sn=function(n){var e=n.children,r=n.onCancel,o=n.formName,t=n.loading,i=n.onSave,a=n.disable;return(0,U.jsx)(ln.Z,{visible:!0,onCancel:r,confirmLoading:t,footer:[(0,U.jsx)(dn,{onClick:r,children:"Cancel"},"cancel"),(0,U.jsx)(cn.Z,{type:"primary",disabled:a,danger:!o,loading:t,htmlType:"submit",form:o,onClick:i,children:"Confirm"},"submit")],children:e})};sn.defaultProps={onSave:function(){}};var un,gn=r(4165),fn=r(1413),bn=r(5861),pn=r(1134),xn=r(1265),hn=r(7942),mn=r(521),vn=r(9389),jn=hn.Ry().shape({title:hn.Z_().required("This field is required"),description:hn.Z_().required("This field is required"),pageCount:hn.Rx().required("This field is required").integer("Value must be an integer").positive("Value must be a positive number.")}),Zn=function(n){var e=n.mode,r=n.data,o=n.name,t=n.onSave,i=mn.Z.Text,a=mn.Z.Title,l=vn.Z.TextArea,c=(0,pn.cI)({resolver:(0,xn.X)(jn)}),d=c.control,s=c.handleSubmit,u=c.formState.errors,g=function(){var n=(0,bn.Z)((0,gn.Z)().mark((function n(e){return(0,gn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{t(r?(0,fn.Z)((0,fn.Z)({},e),{},{id:r._id}):e)}catch(o){}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,U.jsxs)(U.Fragment,{children:["create"===e&&(0,U.jsx)(a,{level:3,children:"Create Book"}),"edit"===e&&(0,U.jsx)(a,{level:3,children:"Update Book"}),(0,U.jsxs)("form",{onSubmit:s(g),id:o,children:[(0,U.jsx)("label",{children:"Book Title"}),(0,U.jsx)(pn.Qr,{render:function(n){var e=n.field;return(0,U.jsx)(vn.Z,(0,fn.Z)({},e))},name:"title",control:d,defaultValue:(null===r||void 0===r?void 0:r.title)||""}),u.title&&(0,U.jsx)(i,{style:{display:"block"},type:"danger",children:u.title.message}),(0,U.jsx)("label",{children:"Description"}),(0,U.jsx)(pn.Qr,{render:function(n){var e=n.field;return(0,U.jsx)(l,(0,fn.Z)({style:{height:"80px"}},e))},name:"description",control:d,defaultValue:(null===r||void 0===r?void 0:r.description)||""}),u.description&&(0,U.jsx)(i,{style:{display:"block"},type:"danger",children:u.description.message}),(0,U.jsx)("label",{children:"Page Count"}),(0,U.jsx)(pn.Qr,{render:function(n){var e=n.field;return(0,U.jsx)(vn.Z,(0,fn.Z)({},e))},name:"pageCount",control:d,defaultValue:null===r||void 0===r?void 0:r.pageCount}),u.pageCount&&(0,U.jsx)(i,{style:{display:"block"},type:"danger",children:u.pageCount.message})]})]})},kn=function(n){var e=n.onSave,r=n.onCancel,o=(0,N.v9)(X).loading;return(0,U.jsx)(sn,{onCancel:r,formName:"create",loading:o,children:(0,U.jsx)(Zn,{mode:"create",onSave:e,name:"create"})})},yn=r(5965),Cn=(0,P.ZP)(yn.Z)(un||(un=(0,C.Z)(["\n  display: block;\n  .ant-spin-dot {\n    display: flex;\n    margin: 10px auto;\n  }\n  .ant-spin-dot-item {\n    background-color: rgb(255 186 89);\n  }\n"]))),Pn=function(n){var e=n.onSave,r=n.onCancel,o=(0,N.I0)(),t=(0,N.v9)(K),i=t.fetchData,a=t.data,l=t.loading,c=mn.Z.Text;return(0,m.useEffect)((function(){o((0,en.lf)(i))}),[]),(0,U.jsxs)(sn,{loading:l,form:"edit",onCancel:r,formName:"edit",disable:!a,children:[(0,U.jsx)(Cn,{spinning:l}),(0,U.jsxs)(U.Fragment,{children:[!l&&a&&(0,U.jsx)(Zn,{mode:"edit",onSave:e,data:a,name:"edit"}),!a&&(0,U.jsx)(c,{type:"danger",children:" Something went wrong"})]})]})},wn=r(1675),Sn=r(5303),Tn=function(n){var e=n.onSave,r=n.onCancel,o=(0,N.v9)($),t=o.loading,i=o.data,a=mn.Z.Title,l=mn.Z.Text;return(0,U.jsxs)(sn,{onCancel:r,onSave:function(){return e(i)},children:[(0,U.jsx)(Cn,{spinning:t}),!t&&i&&(0,U.jsxs)(Sn.Z,{direction:"vertical",children:[(0,U.jsxs)(a,{level:5,children:["Are you sure that you want to delete"," ",(0,U.jsx)(l,{underline:!0,italic:!0,children:i.title}),"?"]}),(0,U.jsx)(l,{children:"The item will be deleted immediately. You can not undo this action."})]})]})},Dn=r(8361),In=function(){return(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(Sn.Z,{direction:"vertical",size:"large",style:{alignItems:"flex-end",width:"400px",height:"250px",margin:"20px 10px"},children:[(0,U.jsxs)(Sn.Z,{children:[(0,U.jsx)(Dn.Z.Button,{shape:"round",size:"small",active:!0}),(0,U.jsx)(Dn.Z.Button,{shape:"round",size:"small",active:!0})]}),(0,U.jsx)(Dn.Z.Input,{size:"large",active:!0,style:{width:"380px"}}),(0,U.jsx)(Dn.Z.Input,{size:"large",active:!0,style:{width:"380px"}}),(0,U.jsx)(Dn.Z.Input,{size:"default",active:!0,style:{width:"380px"}})]})})},Bn=function(){var n=(0,N.v9)(W),e=(0,N.v9)(H),r=(0,N.v9)(O),o=(0,N.v9)(on),t=o.offset,i=o.page,a=o.itemsPerPage,l=o.endOffset,c=(0,N.v9)(tn),d=c.open,s=c.name,u=r.slice(t,l),g=Math.ceil(r.length/a),f=(0,N.I0)();(0,m.useEffect)((function(){return f((0,en.in)()),function(){return f((0,wn.mn)())}}),[f,i]);var b=function(){f((0,an.I)({name:"Create"}))},p=(0,m.useCallback)((function(n){f((0,wn.Fu)({id:n})),f((0,an.I)({name:"Update"}))}),[]),x=(0,m.useCallback)((function(){f((0,an.I)({name:"Update"}))}),[]),j=(0,m.useCallback)((function(n){f((0,wn.VH)(n)),f((0,an.I)({name:"Delete"}))}),[]);return(0,U.jsx)(Y.S,{children:(0,U.jsxs)(v.W2,{children:[(0,U.jsx)(Q,{onClick:b,color:"light",children:"Create book"}),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)(E,{children:[n&&!e&&(0,U.jsx)(U.Fragment,{children:(0,h.Z)(Array(u.length||a).keys()).map((function(n){return(0,U.jsx)(In,{},n)}))}),!n&&!e&&r.length>0&&(0,U.jsx)(U.Fragment,{children:u.map((function(n){return(0,U.jsx)(q,{data:n,onEdit:p,onDelete:j},n._id)}))})]}),!n&&!e&&r.length>0&&(0,U.jsx)(nn,{currentPage:i,onPagination:function(n){var e=n*a%r.length;f((0,rn.Q)({page:n,offset:e}))},pageCount:g})]}),d&&"Create"===s&&(0,U.jsx)(kn,{onSave:function(n){f((0,en.UD)(n))},onCancel:b}),d&&"Update"===s&&(0,U.jsx)(Pn,{onSave:function(n){f((0,en.Qs)(n))},onCancel:x}),d&&"Delete"===s&&(0,U.jsx)(Tn,{onSave:function(n){f((0,en.Yb)(n))},onCancel:j}),e&&!n&&(0,U.jsx)(V.B,{})]})})}}}]);
//# sourceMappingURL=956.5953348a.chunk.js.map